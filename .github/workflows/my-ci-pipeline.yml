name: Continuous Integration
on: 
    push:
        paths-ignore:
            'README.md'
    pull_request:
        paths-ignore:
            'README.md'

jobs: 
    build:
        name: Build & Run tests, triggered by @${{ github.actor }}
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@v2
        - run: docker build --target test --tag todo_app:test .
        - run: docker run --env-file=.env.template todo_app:test todo_app/tests/unit
        - run: docker run --env-file=.env.template todo_app:test todo_app/tests/integration
